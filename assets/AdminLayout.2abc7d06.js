import{aF as Z,aG as q,Z as U,l as y,r as R,j,aH as F,aI as Q,aJ as G,aK as J,ad as K,m as ee,p as te,aL as ae,k as ne,t as V,aM as oe,aN as ie,aO as re,aA as le,v as ue,aP as se,x as N,Y as ve,aQ as de,q as ce,n as H,b as l,Q as he,aD as ge,P as Y,a5 as me,aR as fe,a6 as we,o as be,a7 as ye,w as B,aS as xe,X as z,aT as _e}from"./index.503153cb.js";import{V as D,a as P}from"./VList.34c2e550.js";import{V as pe}from"./VDivider.82c60a6c.js";const Me=100,Te=20;function O(e){const s=1.41421356237;return(e<0?-1:1)*Math.sqrt(Math.abs(e))*s}function X(e){if(e.length<2)return 0;if(e.length===2)return e[1].t===e[0].t?0:(e[1].d-e[0].d)/(e[1].t-e[0].t);let s=0;for(let c=e.length-1;c>0;c--){if(e[c].t===e[c-1].t)continue;const t=O(s),g=(e[c].d-e[c-1].d)/(e[c].t-e[c-1].t);s+=(g-t)*Math.abs(g),c===e.length-1&&(s*=.5)}return O(s)*1e3}function Ee(){const e={};function s(g){Array.from(g.changedTouches).forEach(a=>{var u;((u=e[a.identifier])!=null?u:e[a.identifier]=new Z(Te)).push([g.timeStamp,a])})}function c(g){Array.from(g.changedTouches).forEach(a=>{delete e[a.identifier]})}function t(g){var a;const u=(a=e[g])==null?void 0:a.values().reverse();if(!u)throw new Error(`No samples for touch id ${g}`);const x=u[0],T=[],p=[];for(const v of u){if(x[0]-v[0]>Me)break;T.push({t:v[0],d:v[1].clientX}),p.push({t:v[0],d:v[1].clientY})}return{x:X(T),y:X(p),get direction(){const{x:v,y:m}=this,[i,h]=[Math.abs(v),Math.abs(m)];return i>h&&v>=0?"right":i>h&&v<=0?"left":h>i&&m>=0?"down":h>i&&m<=0?"up":ke()}}}return{addMovement:s,endTouch:c,getVelocity:t}}function ke(){throw new Error}function Se(e){let{isActive:s,isTemporary:c,width:t,touchless:g,position:a}=e;q(()=>{window.addEventListener("touchstart",C,{passive:!0}),window.addEventListener("touchmove",_,{passive:!1}),window.addEventListener("touchend",S,{passive:!0})}),U(()=>{window.removeEventListener("touchstart",C),window.removeEventListener("touchmove",_),window.removeEventListener("touchend",S)});const u=y(()=>a.value!=="bottom"),{addMovement:x,endTouch:T,getVelocity:p}=Ee();let v=!1;const m=R(!1),i=R(0),h=R(0);let k;function M(n,r){return(a.value==="left"?n:a.value==="right"?document.documentElement.clientWidth-n:a.value==="bottom"?document.documentElement.clientHeight-n:E())-(r?t.value:0)}function w(n){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const o=a.value==="left"?(n-h.value)/t.value:a.value==="right"?(document.documentElement.clientWidth-n-h.value)/t.value:a.value==="bottom"?(document.documentElement.clientHeight-n-h.value)/t.value:E();return r?Math.max(0,Math.min(1,o)):o}function C(n){if(g.value)return;const r=n.changedTouches[0].clientX,o=n.changedTouches[0].clientY,f=25,b=a.value==="left"?r<f:a.value==="right"?r>document.documentElement.clientWidth-f:a.value==="bottom"?o>document.documentElement.clientHeight-f:E(),d=s.value&&(a.value==="left"?r<t.value:a.value==="right"?r>document.documentElement.clientWidth-t.value:a.value==="bottom"?o>document.documentElement.clientHeight-t.value:E());(b||d||s.value&&c.value)&&(v=!0,k=[r,o],h.value=M(u.value?r:o,s.value),i.value=w(u.value?r:o),T(n),x(n))}function _(n){const r=n.changedTouches[0].clientX,o=n.changedTouches[0].clientY;if(v){if(!n.cancelable){v=!1;return}const b=Math.abs(r-k[0]),d=Math.abs(o-k[1]);(u.value?b>d&&b>3:d>b&&d>3)?(m.value=!0,v=!1):(u.value?d:b)>3&&(v=!1)}if(!m.value)return;n.preventDefault(),x(n);const f=w(u.value?r:o,!1);i.value=Math.max(0,Math.min(1,f)),f>1?h.value=M(u.value?r:o,!0):f<0&&(h.value=M(u.value?r:o,!1))}function S(n){if(v=!1,!m.value)return;x(n),m.value=!1;const r=p(n.changedTouches[0].identifier),o=Math.abs(r.x),f=Math.abs(r.y);(u.value?o>f&&o>400:f>o&&f>3)?s.value=r.direction===({left:"right",right:"left",bottom:"up"}[a.value]||E()):s.value=i.value>.5}const $=y(()=>m.value?{transform:a.value==="left"?`translateX(calc(-100% + ${i.value*t.value}px))`:a.value==="right"?`translateX(calc(100% - ${i.value*t.value}px))`:a.value==="bottom"?`translateY(calc(100% - ${i.value*t.value}px))`:E(),transition:"none"}:void 0);return{isDragging:m,dragProgress:i,dragStyles:$}}function E(){throw new Error}const Ve=j({name:"VNavigationDrawer",props:{color:String,disableResizeWatcher:Boolean,disableRouteWatcher:Boolean,expandOnHover:Boolean,floating:Boolean,modelValue:{type:Boolean,default:null},permanent:Boolean,rail:Boolean,railWidth:{type:[Number,String],default:72},image:String,temporary:Boolean,touchless:Boolean,width:{type:[Number,String],default:256},location:{type:String,default:"left",validator:e=>["left","right","bottom"].includes(e)},...F(),...Q(),...G(),...J(),...K({tag:"nav"}),...ee()},emits:{"update:modelValue":e=>!0},setup(e,s){let{attrs:c,slots:t}=s;const{themeClasses:g}=te(e),{borderClasses:a}=ae(e),{backgroundColorClasses:u,backgroundColorStyles:x}=ne(V(e,"color")),{elevationClasses:T}=oe(e),{mobile:p}=ie(),{roundedClasses:v}=re(e),m=le(),i=ue(e,"modelValue",null,d=>!!d),h=R(!1),{ssrBootStyles:k}=se(),M=y(()=>e.rail&&e.expandOnHover&&h.value?Number(e.width):Number(e.rail?e.railWidth:e.width)),w=y(()=>!e.permanent&&(p.value||e.temporary));e.disableResizeWatcher||N(w,d=>!e.permanent&&(i.value=!d)),!e.disableRouteWatcher&&m&&N(m.currentRoute,()=>w.value&&(i.value=!1)),N(()=>e.permanent,d=>{d&&(i.value=!0)}),ve(()=>{e.modelValue!=null||w.value||(i.value=e.permanent||!p.value)});const C=R(),{isDragging:_,dragProgress:S,dragStyles:$}=Se({isActive:i,isTemporary:w,width:M,touchless:V(e,"touchless"),position:V(e,"location")}),n=y(()=>{const d=w.value?0:e.rail&&e.expandOnHover?Number(e.railWidth):M.value;return _.value?d*S.value:d}),{layoutItemStyles:r,layoutRect:o,layoutItemScrimStyles:f}=de({id:e.name,order:y(()=>parseInt(e.order,10)),position:V(e,"location"),layoutSize:n,elementSize:M,active:y(()=>i.value||_.value),disableTransitions:y(()=>_.value),absolute:V(e,"absolute")}),b=y(()=>({..._.value?{opacity:S.value*.2,transition:"none"}:void 0,...o.value?{left:H(o.value.left),right:H(o.value.right),top:H(o.value.top),bottom:H(o.value.bottom)}:void 0,...f.value}));return ce(()=>{var d,L,I,W;const A=t.image||e.image;return l(Y,null,[l(e.tag,he({ref:C,onMouseenter:()=>h.value=!0,onMouseleave:()=>h.value=!1,class:["v-navigation-drawer",{"v-navigation-drawer--bottom":e.location==="bottom","v-navigation-drawer--end":e.location==="right","v-navigation-drawer--expand-on-hover":e.expandOnHover,"v-navigation-drawer--floating":e.floating,"v-navigation-drawer--is-hovering":h.value,"v-navigation-drawer--rail":e.rail,"v-navigation-drawer--start":e.location==="left","v-navigation-drawer--temporary":w.value,"v-navigation-drawer--active":i.value},g.value,u.value,a.value,T.value,v.value],style:[x.value,r.value,$.value,k.value]},c),{default:()=>[A&&l("div",{key:"image",class:"v-navigation-drawer__img"},[t.image?(d=t.image)==null?void 0:d.call(t,{image:e.image}):l("img",{src:e.image,alt:""},null)]),t.prepend&&l("div",{class:"v-navigation-drawer__prepend"},[(L=t.prepend)==null?void 0:L.call(t)]),l("div",{class:"v-navigation-drawer__content"},[(I=t.default)==null?void 0:I.call(t)]),t.append&&l("div",{class:"v-navigation-drawer__append"},[(W=t.append)==null?void 0:W.call(t)])]}),l(ge,{name:"fade-transition"},{default:()=>[w.value&&(_.value||i.value)&&l("div",{class:"v-navigation-drawer__scrim",style:b.value,onClick:()=>i.value=!1},null)]})])}),{}}}),He={__name:"AdminLayout",setup(e){const s=me(),{avatar:c,account:t}=fe(s);return(g,a)=>{const u=we("router-view");return be(),ye(Y,null,[l(Ve,{"expand-on-hover":"",rail:"",permanent:""},{default:B(()=>[l(D,null,{default:B(()=>[l(P,{"prepend-avatar":z(c),title:z(t)},null,8,["prepend-avatar","title"])]),_:1}),l(pe),l(D,null,{default:B(()=>[l(P,{to:"/admin/products",title:"\u5546\u54C1\u7BA1\u7406","prepend-icon":"mdi-shopping"}),l(P,{to:"/admin/orders",title:"\u8A02\u55AE\u7BA1\u7406","prepend-icon":"mdi-format-list-checkbox"}),l(P,{to:"/",title:"\u56DE\u524D\u53F0","prepend-icon":"mdi-home"})]),_:1})]),_:1}),l(xe,null,{default:B(()=>[l(_e,null,{default:B(()=>[l(u)]),_:1})]),_:1})],64)}}};export{He as default};
