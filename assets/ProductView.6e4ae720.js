import{ae as v,u as g,a5 as h,r as d,a as m,o as x,a7 as b,b as a,w as s,V as w,i as S,S as B,d as o,g as r,aa as n,ac as R,e as k,f as q,h as C}from"./index.503153cb.js";import{V as N}from"./VDivider.82c60a6c.js";import{V as U,a as D}from"./VTextField.c1772ce5.js";import{V as F}from"./VOverlay.6aa5f0c1.js";const T={id:"product"},j={class:"text-center"},E={style:{"white-space":"pre"}},I=C("\u52A0\u5165\u8CFC\u7269\u8ECA"),M=r("h1",{class:"text-black"},"\u5DF2\u4E0B\u67B6",-1),H={__name:"ProductView",setup(O){const p=v(),_=g(),f=h(),i=d(0),V=m([t=>t>=1||"\u6578\u91CF\u932F\u8AA4"]),u=d(!1),e=m({_id:"",name:"",price:0,category:"",sell:!1,image:"",description:""}),y=()=>{!u.value||f.addCart({product:e._id,quantity:i.value})};return(async()=>{try{const{data:t}=await S.get("/products/"+p.params.id);e._id=t.result._id,e.name=t.result.name,e.price=t.result.price,e.category=t.result.category,e.sell=t.result.sell,e.image=t.result.image,e.description=t.result.description}catch{B.fire({icon:"error",title:"\u5931\u6557",text:"\u53D6\u5F97\u5546\u54C1\u8CC7\u6599\u5931\u6557"}),_.go(-1)}})(),(t,l)=>(x(),b("div",T,[a(w,null,{default:s(()=>[a(o,{cols:"12"},{default:s(()=>[r("h1",j,n(e.name),1)]),_:1}),a(N),a(o,{class:"text-center",cols:"12"},{default:s(()=>[a(R,{src:e.image},null,8,["src"]),r("p",null,"$"+n(e.price),1)]),_:1}),a(o,{cols:"12"},{default:s(()=>[r("p",E,n(e.description),1)]),_:1}),a(o,{cols:"12"},{default:s(()=>[a(U,{modelValue:u.value,"onUpdate:modelValue":l[1]||(l[1]=c=>u.value=c),onSubmit:k(y,["prevent"])},{default:s(()=>[a(D,{type:"number",label:"\u6578\u91CF",modelValue:i.value,"onUpdate:modelValue":l[0]||(l[0]=c=>i.value=c),rules:V},null,8,["modelValue","rules"]),a(q,{color:"primary",type:"submit"},{default:s(()=>[I]),_:1})]),_:1},8,["modelValue","onSubmit"])]),_:1}),a(F,{class:"align-center justify-center","model-value":!e.sell},{default:s(()=>[M]),_:1},8,["model-value"])]),_:1})]))}};export{H as default};
